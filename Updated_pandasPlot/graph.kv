#:kivy 1.0.9
#  This is the kivy file which contains the gui information for a
#  demo program written for the midpoint project check in CS467,
#  Capstone, Spring 2018.
#
#  Team:  Scorpius
#  Team members:  John Carrabino, Aaron Peressini, Cheryl Freeman

<GraphSession>:
    BoxLayout:
        id:             blayout
        orientation:    'vertical'
        size:           self.parent.size
        pos:            self.parent.pos
        ScreenManager:
            id: sm

            Screen:
                size:   blayout.size
                pos:    blayout.pos
                name:   'screen0'
                Popup:
                    id:     intro_popup
                    size:   self.parent.size
                    pos:    self.parent.pos
                    title:  'Scorpius Plotter'
                    FloatLayout:
                        orientation:  'vertical'
                        Label:  
#                           With thanks to https://blog.kivy.org/2014/07/wrapping-text-in-kivys-label/
                            size_hint_y:    None
                            size_hint_x:    0.5
                            pos_hint:       {'x': 0, 'y': 0.8}
                            text_size:      self.width, None
                            height:         self.texture_size[1]
                            text:           root.welcome_text
                        Button:
                            id:             next_screen
                            size_hint_y:    0.15
                            size_hint_x:    0.2
                            pos_hint:       {'x': 0.8, 'y': 0.25}
                            on_press:       sm.current = 'screen1'
                            text:           'Next' 

            Screen:
                size:   blayout.size
                pos:    blayout.pos
                name:   'screen1'
                Popup:
                    id:     file_popup
                    size:   self.parent.size
                    pos:    self.parent.pos
                    title:  'Select data file to graph'
                    FloatLayout:
                        Label:
                            size_hint_y:    None
                            size_hint_x:    0.5
                            pos_hint:       {'x': 0.15, 'y': 0.25}
                            text_size:      self.width, None
                            height:         self.texture_size[1]
                            text:           root.path
                        FileChooserIconView:
                            id:             file_chooser
                            path:           root.path
                            on_selection:   root.filename = self.selection[0];
                            #file_popup.dismiss()
                            
                            #root.create_graph(None)
                        Button:
                            id:             next_screen
                            size_hint_y:    0.15
                            size_hint_x:    0.2
                            pos_hint:       {'x': 0.8, 'y': 0.25}
                            on_press:       sm.current = 'screen2'
                            text:           'Next' 

            Screen:
                size:       blayout.size
                pos:        blayout.pos
                name:       'screen2'
                BoxLayout:
                    #graph_now: line_graph
                    orientation:    'vertical'
                    size:           self.parent.size
                    pos:            self.parent.pos

                    Button:
                        id:         line_graph
                        on_press:   root.create_graph(self)
                        text:       "Click me to create a line graph"

                    Button:
                        id:         scatter_button
                        on_press:   root.create_graph(self)
                        text:       "Click me to create a scatter graph"

                    Button:
                        id:         bar_button
                        on_press:   root.create_graph(self)
                        text:       "Click me to create a bar graph"

        



#<line_Button>:
#    size:  300, 150
#    text:  "Click to see a line graph"
#
#<scatter_Button>:
#    size:  300, 150
#    text:  "Click to see a scatter graph"
#
#
#
#
